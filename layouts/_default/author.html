{{- define "content" }}
{{- $authors := .Site.Taxonomies.authors }}
{{- $author := index .Site.Data.authors (.Name | default "default") }}
<main class="main" role="main">
    <article class="content article article-authors post-type-list" itemscope="">
        <header class="article-header">
            <h1 itemprop="name">{{- .Title }}</h1>
            <p class="text-muted">{{- T "total_author" (len $authors) }}</p>
            <nav role="navigation" id="nav-main" class="okayNav">
                <ul>
                    <li><a href="{{- "authors" | absURL }}">{{- T "nav_all" }}</a></li>
                    {{- range $authors }}
                    <li><a href="{{ .Page.Permalink }}">{{ .Page.Title }}</a></li>
                    {{- end }}
                </ul>
            </nav>
        </header>
        <!-- /header -->
        <div class="article-body">
            <div class="panel panel-default b-no">
                <div class="panel-heading" role="tab">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse{{- .Name | md5 }}" aria-expanded="true">
                            {{- if $author }}
                            {{- with $author.avatar }}
                            <img src="{{ $author.avatar | relURL }}" alt="{{ $author.name }} avatar" class="author-avatar-small" width="32" height="32">
                            {{- end }}
                            {{- else }}
                            <i class="icon icon-user text-active"></i><i class="icon icon-user-fill text"></i>
                            {{- end }}
                            {{- .Name }}
                        </a>
                        <small class="text-muted">(Total {{ len .Pages }} articles)</small>
                    </h4>
                </div>
                <div id="collapse{{ .Name | md5 }}" class="panel-collapse collapse in" role="tabpanel"
                    aria-labelledby="heading{{ .Name | md5}}">
                    <div class="panel-body">
                        <div class="collection">
                            {{- range .Pages }}
                            {{- partial "item-post.html" . }}
                            {{- end }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>
</main>
{{- end }}
