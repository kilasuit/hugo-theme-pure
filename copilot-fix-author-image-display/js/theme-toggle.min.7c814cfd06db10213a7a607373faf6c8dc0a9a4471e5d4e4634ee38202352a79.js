(function(){"use strict";const e={STORAGE_KEY:"theme-preference",THEME_DARK:"dark",THEME_LIGHT:"light",mediaQueryList:null,mediaQueryListener:null,getPreferredTheme:function(){const e=localStorage.getItem(this.STORAGE_KEY);return e?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.THEME_DARK:this.THEME_LIGHT},setTheme:function(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem(this.STORAGE_KEY,e)},toggleTheme:function(){const t=document.documentElement.getAttribute("data-theme"),e=t===this.THEME_DARK?this.THEME_LIGHT:this.THEME_DARK;return this.setTheme(e),e},init:function(){const e=this.getPreferredTheme();this.setTheme(e),window.matchMedia&&(this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.mediaQueryListener=e=>{localStorage.getItem(this.STORAGE_KEY)||this.setTheme(e.matches?this.THEME_DARK:this.THEME_LIGHT)},this.mediaQueryList.addEventListener("change",this.mediaQueryListener))},cleanup:function(){this.mediaQueryList&&this.mediaQueryListener&&this.mediaQueryList.removeEventListener("change",this.mediaQueryListener)}};e.init(),document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".theme-toggle");t&&t.addEventListener("click",function(){e.toggleTheme()})})})()